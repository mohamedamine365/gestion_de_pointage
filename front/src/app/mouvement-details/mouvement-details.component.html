<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<div class="container user-details-container" *ngIf="mouvement">
  <div class="user-card">

    <!-- User Header Section -->
    <div class="user-header">
      <div class="avatar">
        <span class="initials">
          {{ mouvement.user?.prenom?.charAt(0) }}{{ mouvement.user?.nom?.charAt(0) }}
        </span>
      </div>
      <div class="user-title">
        <h1>{{ mouvement.user?.prenom }} {{ mouvement.user?.nom }}</h1>
        <p class="user-role">{{ mouvement.user?.privilege }}</p>
      </div>
      <div class="status-badge" [ngClass]="{ 'active': mouvement.user?.actif, 'inactive': !mouvement.user?.actif }">
        {{ mouvement.user?.actif ? 'ACTIF' : 'INACTIF' }}
      </div>
    </div>

    <!-- Mouvement Info Section -->
    <div class="user-content">
      <!-- Informations personnelles -->
      <div class="info-section">
        <div class="section-header">
          <i class="fas fa-user icon"></i>
          <h2>Informations Personnelles</h2>
        </div>
        <div class="info-grid">
          <div class="info-item">
            <label>Nom Complet</label>
            <p>{{ mouvement.user?.prenom }} {{ mouvement.user?.nom }}</p>
          </div>
          <div class="info-item">
            <label>Email</label>
            <p><a href="mailto:{{ mouvement.user?.email }}">{{ mouvement.user?.email }}</a></p>
          </div>
          <div class="info-item">
            <label>Matricule</label>
            <p class="monospace">{{ mouvement.user?.matricule }}</p>
          </div>
          <div class="info-item">
            <label>Privilège</label>
            <p>{{ mouvement.user?.privilege }}</p>
          </div>
        </div>
      </div>

      <!-- Établissement -->
      <div class="info-section">
        <div class="section-header">
          <i class="fas fa-building icon"></i>
          <h2>Établissement</h2>
        </div>
        <div class="info-grid">
          <div class="info-item">
            <label>Nom</label>
            <p>{{ mouvement.user?.etablissement?.nom || 'Non spécifié' }}</p>
          </div>
          <div class="info-item">
            <label>Adresse</label>
            <p>{{ mouvement.user?.etablissement?.adresse || 'Non spécifié' }}</p>
          </div>
          <div class="info-item">
            <label>Ville</label>
            <p>{{ mouvement.user?.etablissement?.ville || 'Non spécifié' }}</p>
          </div>
          <div class="info-item">
            <label>Site Centralisateur</label>
            <p>{{ mouvement.user?.etablissement?.site_centralisateur?.nom || 'Non spécifié' }}</p>
          </div>
        </div>
      </div>

      <!-- Mouvement -->
      <div class="info-section">
        <div class="section-header">
          <i class="fas fa-fingerprint icon"></i>
          <h2>Détails du Mouvement</h2>
        </div>
        <div class="info-grid">
          <div class="info-item">
            <label>Méthode</label>
            <p>{{ mouvement.methode }}</p>
          </div>
          <div class="info-item">
            <label>Résultat</label>
            <p>{{ mouvement.resultat }}</p>
          </div>
          <div class="info-item">
            <label>Date de Mouvement</label>
            <p>{{ mouvement.date_mouvement | date: 'full' }}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="btn back-btn" routerLink="/Consultation-des-acces">
        <i class="fas fa-arrow-left"></i> Retour à la liste
      </button>
    </div>

  </div>
</div>
